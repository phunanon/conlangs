<!DOCTYPE HTML>
<html>
    <head>
        <title>pipu</title>
        <meta charset="UTF-8">
        <script type="text/javascript" src="pipu.js"></script>
        <script type="text/javascript" src="pipu_examples.js"></script>
        <script type="text/javascript" src="mespeak/mespeak.js"></script>
        <script>
function loadPage ()
{
  //1. Phonology & Orthography
    for (var c = 0, clen = pipu_chr.length; c < clen; ++c) {
        gE("#s1 #t1").innerHTML += '<tr><td>'+ (c <= pipu_con.length ? (c ? 'C' : 'space') : 'V') +'</td>'+
            '<td>'+ pad(c.toString(2), '0000') +'</td>'+
            '<td>0x'+ c.toString(16).toUpperCase() +'</td>'+
            '<td>'+ pipu_chr[c] +'</td>'+
            '<td>'+ pipu_num[c] +'</td>'+
            '<td>/'+ pipu_ipa[c] +'/ '+
            (c ? '<speaker onclick="aud(\''+ pipu_chr[c] +'\')"></speaker>' : '')+
            '</td>'+
            '</tr>';
    }
  //4. Lexicon
    var unused = 0;
    var l = 0;
    for (var lex in pipu_lex) {
        var pipu    = lex
        var root    = pipu_lex[lex].root;
        var type    = pipu_lex[lex].type;
        var verb    = pipu_lex[lex].verb;
        var adj     = pipu_lex[lex].adj;
        var pnoun   = pipu_lex[lex].pnoun;
        var comment = pipu_lex[lex].comment;
        var number  = pipu_lex[lex].num;

        var colour  = pipu_lex[lex].colour;
        var fg_color = "#000";
        var bg_color = "transparent";
        if (colour === null) {
            colour = "<span style='color: #aaa'>unused</span>";
        } else {
            bg_color = colour;
            var r = parseInt(colour.substr(1, 1), 16)/16, g = parseInt(colour.substr(2, 1), 16)/16, b = parseInt(colour.substr(3, 1), 16)/16;
            fg_color = (determineLumApprox(r, g, b) < .4 ? "#fff" : fg_color);
        }
        if (root == "") { root = "<span style='color: #aaa'>unused</span>"; ++unused; }

        if (root[0] != "<") {
            gE("#s4 #t1").innerHTML += '<tr><td class="pipu"><speaker onclick="aud(\''+ pipu +'\')"></speaker>'+ pipu +'</td>'+
                '<td class="english">'+ root +'</td>'+
                '<td>'+ type +'</td>'+
                '<td class="english verb" title="'+ verb +'">'+ verb +'</td>'+
                '<td class="english adj" title="'+ adj +'">'+ adj +'</td>'+
                '<td class="english">'+ pnoun +'</td>'+
                '<td class="comment" title="'+ comment +'">'+ comment +'</td>'+
                '<td class="mono">'+ number +'</td>'+
                '<td class="mono" style="color: '+ fg_color +'; background-color: '+ bg_color +'">'+ colour +'</td>'+
                '</tr>';
            ++l;
        }
    }
    var lex_count = Object.keys(pipu_lex).length;
    gE("#s4 #lex-used").innerHTML = lex_count - unused;
    gE("#s4 #lex-unused").innerHTML = unused;
    gE("#s4 #lex-total").innerHTML = lex_count;
  //6. Examples
    var examples = gE("examples");
    for (var e = 0, emax = pipu_examples.length; e < emax; ++e) {
        if (pipu_examples[e][1] == "") { continue; }
        var gloss = pipu_examples[e][1];
        var pipu = gloss2pipu(gloss);
        examples.innerHTML += "\n<example id='eg"+ e +"'><english>"+ (e+1) +". "+ pipu_examples[e][0] +
            "</english><gloss>"+ gloss +
            "</gloss><pipu>"+ pipu +
            "</pipu><IPA><speaker onclick='aud(\""+ pipu +"\")'></speaker> /"+ pipu2IPA(pipu) +"/" +
            "</IPA></example>";
    }
  //Speakers
    meSpeak.loadConfig("mespeak/mespeak_config.json");
    meSpeak.loadVoice("mespeak/en-rp.json");
    
}


//http://www.masswerk.at/mespeak/
function aud (text)
{
    meSpeak.speak(pipu2spk(text), {speed: 30, wordgap: 0});
}



function tool_speaker_speak ()
{
    aud(gE("#tool-speaker-input").value);
}



function gEs (e) { return document.querySelectorAll(e); }
function gE  (e) { return document.querySelector(e); }
function pad (n, p) { return (p + n).slice(-p.length); }
function determineLumApprox (r, g, b) { return (0.33 * r) + (0.5 * g) + (0.16 * b); }
        </script>
        <style>
*:not(ol) {
    margin: 0;
    padding: 0;
}
body {
    padding: 1vw;
}

h1, h2, h3, h4 { margin: 1rem 1rem .5rem 1rem; }
p { padding: .25rem; }
.mono { font-family: monospace; }

/*Tables*/
table {
    border-spacing: 0;
    border: .1rem solid #000;
    max-height: 40rem;
    overflow-y: auto;
    display: inline-block;
}
table:after { content: ' '; display: block; }
tr:nth-child(odd) { background-color: #dedede; }
th, td { padding: .1rem .5rem; height: 1.25rem; line-height: 1.25rem; }
th { border-left: .1rem solid #000; font-size: 1rem; padding: .25rem;}
th:first-child { border-left: none; }
.datatable td { font-family: monospace; }
td.comment, td.verb, td.adj { max-width: 8rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }

speaker {
    display: inline-block;
    font-size: 1.1rem;
    cursor: pointer;
}
speaker:after { content: "ðŸ”Š"; font-weight: normal; font-style: normal; }

example {
    display: inline-block;
    margin: .25rem .1rem;
    background-color: #dedede;
    padding: .5rem;
}
example *:not(speaker) { display: block; }
example:nth-child(odd) { background-color: #dedede; }
example gloss { margin-left: .5rem; }
example pipu { margin-left: 1rem; }

english, .english { font-style: italic; }
pipu, .pipu { font-weight: bold; font-style: italic; }
        </style>
    </head>
    <body onload="loadPage()">
        <h1>pipu</h1>
        <h2>Oligosynthetic Constructed Language<br>Documentation & Interactive tools</h2>
        
        <h3>0. Abstract</h3>
        <p>A constructed language for lossy compression of common human communication, both phonetically and digitally.</p>
        <section id="s1">
            <h3>1. Phonology & Orthography</h3>
            <table class="datatable"><tbody id="t1"><tr><th>Mode</th><th>Binary</th><th>Hex</th><th>Romanised</th><th>Numeric</th><th>IPA</th></tr></tbody></table>
        </section>
        <section id="s2">
            <h3>2. Morphology</h3>
            <p>CVC(V), giving 448 (8*7*8) possible roots. The (V) is optional, for grammar.</p>
            <p>This structure can be progressively broken down from to VC(V), C(V), or V, if the previous word started with the same characters. This method must include a space before the broken down structure</p>
            <table>
                <tbody id="t1">
                    <tr><th>V Suffix</th><th>Gloss</th><th>Meaning</th><th>Example</th></tr>
                    <tr><td>[none]</td><td></td><td>A root noun</td><td><pitu>sip</pitu>, <english>desire</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>i</td><td>verb</td><td>A present-tense verb</td><td><pitu>sipi</pitu>, <english>to desire</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>e</td><td>past</td><td>A past-tense verb</td><td><pitu>sipe</pitu>, <english>desired</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>a</td><td>will</td><td>A future-tense verb</td><td><pitu>sipa</pitu>, <english>will desire</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>o</td><td>prop</td><td>A proper noun</td><td><pitu>sipo</pitu>, <english>280</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>q</td><td>adj</td><td>An adjective</td><td><pitu>sipq</pitu>, <english>desired</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>u</td><td>of</td><td>A word of the subject</td><td><pitu>X sipu</pitu>, <english>desire of X</english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                    <tr><td>h</td><td>000/#000</td><td>A number or colour</td><td><pitu>siph</pitu>, <english></english><gloss></gloss><pipu></pipu><IPA></IPA></td></tr>
                </tbody>
            </table>
        </section>
        <section id="s3">
            <h3>3. Grammar</h3>
            <h4>3.1.Adjective/Noun Placement</h4>
            <ol>
                <li>Before the verb of a sentence, an adjective goes before the noun, and vice versa</li>
                <li>For selection in a collection rather than describing the noun, place the adjective after the noun (affected by 1.)</li>
                <li>Adjectives follow the verb in order to describe it (c.f. #65). This makes it impossible to describe a noun being affected by a verb, rather only select.</li>
                <li>A number is identified as being before the noun, colour after noun (affected by 1.)</li>
                <li>'wood leg' is "leg wood" ("walking stick"), but 'leg wood' is "wooden leg" (affected by 1.)</li>
                <li>5. will only span two nouns (c.f. #68 "above-adj collection plant head")</li>
            </ol>
            <h4>Possession</h4>
            <p>These rules are affected by 3.1.1.</p>
            <table>
                <tbody>
                    <tr><th>pipu gloss</th><th>English</th></tr>
                    <tr><td class="gloss">me food</td><td class="english">My food</td></tr>
                    <tr><td class="gloss">you food</td><td class="english">Your food</td></tr>
                    <tr><td class="gloss">me mouth-verb food</td><td class="english">I eat your food</td></tr>
                    <tr><td class="gloss">animal food-of</td><td class="english">The animal's food</td></tr>
                    <tr><td class="gloss">me mouth-verb food-of animal</td><td class="english">I eat the animal's food</td></tr>
                </tbody>
            </table>

**Listing:**

verb noun noun noun adjective - all nouns are affected by the verb and the adjective  
noun noun noun verb - all nouns participate in the verb  
See #68 for a case where three nouns in a row do not denote a list, as they are followed by an adjective before the verb

**Direction:**

- must use cardinal directions for 2D

- can use 'up' and 'down' for 3D directions

Copula: use pronoun verbs, or just describe like noun adj

Plural is done like: "animal animal" and is rare

Imperative simply states the subject doing something

Questions

</p>
        </section>
        <section id="s4">
            <h3>4. Lexicon</h3>
            <p><span id="lex-used">0</span> roots used, <span id="lex-unused">0</span> unused, <span id="lex-total">0</span> total.</p>
            <p>Hover to see comments.</p>
            <table>
                <tbody id="t1">
                    <tr><th style="min-width: 4rem;">pipu</th><th>Root</th><th>Type</th><th>Verb</th><th>Adjective</th><th>Prop-noun</th><th>Comment</th><th>Number</th><th>Colour</th></tr>
                </tbody>
            </table>
        </section>
        <section id="s5">
            <h3>5. Tools</h3>
            <tool>
                <h4>Speaker</h4>
                <input id="tool-speaker-input" placeholder="pipu to speak"><button onclick="tool_speaker_speak()">Speak</button>
            </tool>
            <tool>
                <h4>Number maker</h4>
                
            </tool>
        </section>
        <section id="s6">
            <h3>6. Examples</h3>
            <examples></examples>
        </section>
    </body>
</html>
